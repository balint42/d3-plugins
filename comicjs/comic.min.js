COMIC={version:.94};(function(){function d(e){return Math.round(e*h)/h}function v(e){var t=e.pathSegList;var n=[];for(var r=0;r<t.length;r++){var i=t[r].pathSegTypeAsLetter;var s=[];switch(i){case"C":case"c":s.unshift(t[r].y2);s.unshift(t[r].x2);case"Q":case"q":s.unshift(t[r].y1);s.unshift(t[r].x1);case"M":case"m":case"L":case"l":s.push(t[r].x);s.push(t[r].y);break;case"A":case"a":s.push(t[r].r1);s.push(t[r].r2);s.push(t[r].angle);s.push(t[r].largeArcFlag);s.push(t[r].sweepFlag);s.push(t[r].x);s.push(t[r].y);break;case"H":case"h":s.push(t[r].x);break;case"V":case"v":s.push(t[r].y);break;case"S":case"s":s.push(t[r].x2);s.push(t[r].y2);s.push(t[r].x);s.push(t[r].y);break;case"T":case"t":s.push(t[r].x);s.push(t[r].y);break}s.unshift(i);n.push(s)}return n}var e=COMIC;var t=50;var n=4;var r=8;var i=r/20;var s=undefined;var o=function(){};var u=function(){};var a=function(){};var l="";var c=10;var h=Math.pow(10,c);e.pathPos={x:0,y:0};e.init=function(t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}if(typeof t["context"]=="object"){p("canvas",e.context)}return e};e.ctx=function(t){e.init({context:t});return e};var p=function(t,n){n.cBezier3=function(e,t,n,i,s,a,f,l){o.call(this);r.call(this,e,t,n,i,s,a,f,l);return u.call(this)};var r=function(t,n,r,i,s,o,u,f){var l=A(t,n,u,f)*3;var c=Math.ceil(Math.pow(l/e.fsteps,.9));var h=e.ff*.8;var p=[t,n];var d=[r,i];var v=[s,o];var m=[u,f];var g=[p,d,v,m];for(var y=c;y>0;y--){var b=k(g,1/y);var w=b[0];var g=b[1];p=w[0];d=w[1];v=w[2];m=w[3];a.call(this,p[0],p[1],L((d[0]+v[0])/2,h),L((d[1]+v[1])/2,h),m[0],m[1])}return this};n.cBezier2=function(e,t,n,r,s,a){o.call(this);i.call(this,e,t,n,r,s,a);return u.call(this)};var i=function(t,n,r,i,s,o){var u=A(t,n,s,o)*3;var f=Math.ceil(Math.pow(u/e.fsteps,.9));var l=e.ff*.8;var c=[t,n];var h=[r,i];var p=[s,o];var d=[c,h,p];for(var v=f;v>0;v--){var m=k(d,1/v);var g=m[0];var d=m[1];c=g[0];h=g[1];p=g[2];a.call(this,c[0],c[1],L(h[0],l),L(h[1],l),p[0],p[1])}return this};n.cEllipse=function(e,t,n,r,i,a,f){o.call(this);s.call(this,e,t,n,r,i,a,f);return u.call(this)};var s=function(t,n,r,i,s,o,u){var f=Math.PI*2;o=typeof o=="undefined"?0:Math.min(f-.005*f,o);u=typeof u=="undefined"?f:Math.min(f,u);s=typeof s=="undefined"?0:Math.min(f,s);var l=Math.cos(s);var c=Math.sin(s);var h=Math.ceil(Math.pow(r*i,.25)*3);var d=e.ffc*Math.pow(r*3,.35)*Math.sqrt(r<25?25/r:1);var v=e.ffc*Math.pow(i*3,.35)*Math.sqrt(i<25?25/i:1);var m=.95+Math.random()*.1;var g=.95+Math.random()*.1;var y=r*m;var b=i*g;var w=u-o;var E=w/h;var S=o;var x,T,N;var k=y*Math.cos(S);var A=b*Math.sin(S);var O=t+k*l-A*c;var M=n+k*c+A*l;p.call(this,t+r*Math.cos(S)*l-i*Math.sin(S)*c,n+r*Math.cos(S)*c+i*Math.sin(S)*l,O,M);for(var _=1;_<=h;_++){S=S+E;x=S-E;var T=O;var N=M;var k=y*Math.cos(S);var A=b*Math.sin(S);var O=t+k*l-A*c;var M=n+k*c+A*l;a.call(this,T,N,L(T,d),L(N,v),O,M)}p.call(this,O,M,t+r*Math.cos(S)*l-i*Math.sin(S)*c,n+r*Math.cos(S)*c+i*Math.sin(S)*l);return this};n.cCircle=function(e,t,n,r,i){o.call(this);c.call(this,e,t,n,r,i);return u.call(this)};var c=function(t,n,r,i,s){var o=Math.PI*2;i=typeof i=="undefined"?0:Math.min(o-.005*o,i);s=typeof s=="undefined"?o:Math.min(o,s);var u=Math.ceil(Math.sqrt(r)*3);var f=e.ffc*Math.pow(u,.75)*Math.sqrt(r<25?25/r:1);var l=.95+Math.random()*.1;var c=r*l;var h=r*(2-l);var d=s-i;var v=d/u;var m=i;var g,y,b;var w=t+Math.cos(m)*c;var E=n+Math.sin(m)*h;p.call(this,t+Math.cos(m)*r,n+Math.sin(m)*r,w,E);for(var S=1;S<=u;S++){m=m+v;g=m-v;y=w;b=E;w=t+Math.cos(m)*c;E=n+Math.sin(m)*h;a.call(this,y,b,L(y,f),L(b,f),w,E)}p.call(this,w,E,t+Math.cos(m)*r,n+Math.sin(m)*r);return this};n.cTrian=function(e,t,n,r,i,s){o.call(this);p.call(this,e,t,n,r);p.call(this,n,r,i,s);p.call(this,i,s,e,t);return u.call(this)};n.cRect=function(e,t,n,r,i,s){o.call(this);h.call(this,e,t,n,r,i,s);return u.call(this)};var h=function(e,t,n,r,i,o){var u;i=typeof i=="undefined"?0:Math.min(i,n/2);o=typeof o=="undefined"?i:Math.min(o,r/2);var a=e+n;var f=t+r;p.call(this,e+i,t,a-i,t);if(i>0){u=Math.PI/2;s.call(this,a-i,t+o,i,o,0,u*3,Math.PI*2)}p.call(this,a,t+o,a,f-o);if(i>0){s.call(this,a-i,f-o,i,o,0,0,u)}p.call(this,a-i,f,e+i,f);if(i>0){s.call(this,e+i,f-o,i,o,0,u,Math.PI)}p.call(this,e,f-o,e,t+o);if(i>0){s.call(this,e+i,t+o,i,o,0,Math.PI,u*3)}return this};n.cLine=function(e,t,n,r){o.call(this);p.call(this,e,t,n,r);return u.call(this)};var p=function(t,n,r,i){var s;var o=function(e,t,n){if(typeof n!="undefined"){var r=Math.pow(n,3);var i=r*n;var o=i*n;s=15*i-6*o-10*r}return e+(e-t)*s};var u=A(t,n,r,i);var l=Math.ceil(u/e.fsteps);if(l<e.msteps){l=e.msteps}f=e.ff/(l==e.msteps?1.4:1);var c=o(t,r,0);var h=o(n,i);for(var p=1;p<=l;p++){t1=p/l;var d=c;var v=h;var c=o(t,r,t1);var h=o(n,i);a.call(this,d,v,L(d,f),L(v,f),c,h)}return this};var m=function(e){var t="error: no drawing element given";found=false;tags=["svg","g"];var n=function(e){while(O(e)){e=e[0]}return e};var r=function(e){if(e.contentDocument)e=e.contentDocument;return e};var i=function(e){if(typeof e.node=="object"){if(typeof e.node.tagName=="string")e=e.node}return e};var s=function(e){return typeof e.tagName!="string"?false:tags.indexOf(e.tagName)>=0};e=n(e);e=r(e);e=i(e);if(!(found=s(e))){if(typeof e.children=="object"){var o=0;while(!found&&o<e.children.length){eTmp=r(e.children[o]);eTmp=i(e.children[o]);if(found=s(eTmp))e=eTmp;o++}}if(typeof e.parent=="object"&&!found){eTmp=r(e.children[o]);eTmp=i(e.children[o]);if(found=s(eTmp))e=eTmp}}if(!found)throw t;return e};n.magic=function(){return e.magic.call(this,this)};e.magic=function(t){t=O(t)?t:[t];for(var n=1;n<t.length;n++){e.magic.call(this,m(t[n]))}var r=m(t[0]);(function i(e){var t=e.children;for(var n=0;n<t.length;n++){if(!t[n].hasOwnProperty("walked")){t[n].walked=true;if(["rect","circle","ellipse","line","polyline","polygon","path","g","svg"].indexOf(t[n].tagName)>=0){i.call(this,t[n])}}}o();switch(e.tagName){case"rect":y.call(this,e);break;case"circle":b.call(this,e);break;case"ellipse":w.call(this,e);break;case"line":E.call(this,e);break;case"polyline":S.call(this,e);break;case"polygon":x.call(this,e);break;case"path":T.call(this,e);break;case"g":break;case"svg":break;default:}var r=e;if(["rect","circle","ellipse","line","polyline","polygon"].indexOf(e.tagName)>=0){r=document.createElementNS("http://www.w3.org/2000/svg","path");var s=e.attributes;for(var n=0;n<s.length;n++){if(["x","y","rx","ry","width","height","cx","cy","r","x1","y1","x2","y2","points"].indexOf(s[n].name)<0)r.setAttribute(s[n].name,s[n].value)}e.parentNode.replaceChild(r,e)}if(l.length>0){r.setAttribute("d",l)}}).call(this,r);return r};var g=function(e){return e.animVal.value};var y=function(e){h.call(this,g(e.x),g(e.y),g(e.width),g(e.height),g(e.rx),g(e.ry))};var b=function(e){c.call(this,g(e.cx),g(e.cy),g(e.r))};var w=function(e){s.call(this,g(e.cx),g(e.cy),g(e.rx),g(e.ry))};var E=function(e){p.call(this,g(e.x1),g(e.y1),g(e.x2),g(e.y2))};var S=function(e){var t=e.points;var n=t.getItem(0);for(var r=1;r<t.length;r++){var i=t.getItem(r);p.call(this,n.x,n.y,i.x,i.y);n=i}};var x=function(e){var t=e.points;var n=t.getItem(0);for(var r=1;r<t.length;r++){var i=t.getItem(r);p.call(this,n.x,n.y,i.x,i.y);n=i}n=t.getItem(0);p.call(this,i.x,i.y,n.x,n.y)};var T=function(e){var t={x:0,y:0};var n={x:0,y:0};var o=undefined;var u=undefined;var a={x:0,y:-0};var f=v(e);for(var c=0;c<f.length;c++){var h=f[c];var d=h.shift();var m=false;if(c==0&&d=="m"){d="M";m=true}var g=function(){a=d==d.toUpperCase()?{x:0,y:0}:{x:t.x,y:t.y}};g();switch(d){case"M":case"m":o=undefined;u=undefined;t={x:a.x+h.shift(),y:a.y+h.shift()};n=t;d=m?"m":"M";while(h.length>1){var y={x:a.x+h.shift(),y:a.y+h.shift()};p.call(this,t.x,t.y,y.x,y.y);t=y;g()}break;case"Q":case"q":o=undefined;while(h.length>3){var b={x:a.x+h.shift(),y:a.y+h.shift()};var w={x:a.x+h.shift(),y:a.y+h.shift()};i.call(this,t.x,t.y,b.x,b.y,w.x,w.y);t=w;u=b;g()}break;case"T":case"t":o=undefined;while(h.length>1){var w={x:a.x+h.shift(),y:a.y+h.shift()};var b=typeof u=="undefined"?t:{x:2*t.x-u.x,y:2*t.y-u.y};i.call(this,t.x,t.y,b.x,b.y,w.x,w.y);t=w;u=b;g()}break;case"C":case"c":u=undefined;while(h.length>5){var b={x:a.x+h.shift(),y:a.y+h.shift()};var w={x:a.x+h.shift(),y:a.y+h.shift()};var E={x:a.x+h.shift(),y:a.y+h.shift()};r.call(this,t.x,t.y,b.x,b.y,w.x,w.y,E.x,E.y);t=E;o=w;g()}break;case"S":case"s":u=undefined;while(h.length>3){var w={x:a.x+h.shift(),y:a.y+h.shift()};var E={x:a.x+h.shift(),y:a.y+h.shift()};var b=typeof o=="undefined"?t:{x:2*t.x-o.x,y:2*t.y-o.y};r.call(this,t.x,t.y,b.x,b.y,w.x,w.y,E.x,E.y);t=E;o=w;g()}break;case"A":case"a":o=undefined;u=undefined;while(h.length>6){var S=Math.abs(h.shift());var x=Math.abs(h.shift());var T=h.shift()%360;var C=!!h.shift();var k=!!h.shift();var b={x:a.x+h.shift(),y:a.y+h.shift()};if(b.x==t.x&&b.y==t.y)continue;if(S==0&&x==0)continue;if(S==0||x==0){b=x==0?{x:b.x,y:t.y}:{x:t.x,y:b.y};p.call(this,t.x,t.y,b.x,b.y);t=b;g();continue}var L=N(t,b,S,x,T,C,k);var A=L[0];var O=L[1].x;var M=L[1].y;s.call(this,A.x,A.y,S,x,T,O,M);t=b;g()}break;case"L":case"l":o=undefined;u=undefined;while(h.length>1){var b={x:a.x+h.shift(),y:a.y+h.shift()};p.call(this,t.x,t.y,b.x,b.y);t=b;g()}break;case"H":case"h":o=undefined;u=undefined;while(h.length>0){var b={x:a.x+h.shift(),y:t.y};p.call(this,t.x,t.y,b.x,b.y);t=b;g()}break;case"V":case"v":o=undefined;u=undefined;while(h.length>0){var b={x:t.x,y:a.y+h.shift()};p.call(this,t.x,t.y,b.x,b.y);t=b;g()}break;case"Z":case"z":o=undefined;u=undefined;p.call(this,t.x,t.y,n.x,n.y);l=l+"z";t=n;break;default:}}};var N=function(e,t,n,r,i,s,o){var u=function(e,t){var n=e.x*t.y-e.y*t.x>0?1:-1;return n*Math.acos((e.x*t.x+e.y*t.y)/(Math.sqrt(e.x*e.x+e.y*e.y)*Math.sqrt(e.x*e.x+e.y*e.y)))};i=i%360;n=Math.abs(n);r=Math.abs(r);var a=Math.cos(i);var f=Math.sin(i);var l=a*(e.x-t.x)/2+f*(e.y-t.y)/2;var c=-1*f*(e.x-t.x)/2+a*(e.y-t.y)/2;var h=n*n;var p=r*r;var d=l*l;var v=c*c;var m=(s==o?-1:1)*Math.sqrt((h*(p-v)-p*d)/(h*v+p*d));var g=m*n*c/r;var y=-1*m*r*l/n;var b=a*g-f*y+(e.x+t.x)/2;var w=f*g+a*y+(e.y+t.y)/2;var E={x:(l-g)/n,y:(c-y)/r};var S=u({x:1,y:0},E);var x=u(E,{x:(-l-g)/n,y:(-c-y)/r})%360;var T=S+x;return[{x:b,y:w},{x:S,y:T}]};var k=function(e,t){var n=e.length-1;var r=[];var i=[];var s=[];var o=1-t;var u=function(e,t){var n=[];for(var r=0;r<e.length;r++){n.push(t*e[r])}return n};var a=function(e,t){var n=[];for(var r=0;r<Math.min(e.length,t.length);r++){n.push(e[r]+t[r])}return n};for(var f=0;f<=n;f++){e[f]=typeof e[f]=="object"?e[f]:[e[f]];r.push([e[f]])}for(var l=1;l<=n;l++){for(var f=0;f<=n-l;f++){r[f].push(a(u(r[f][l-1],o),u(r[f+1][l-1],t)))}}for(var l=0;l<=n;l++){i.push(r[0][l]);s.push(r[l][n-l])}return[i,s]};var L=function(e,t){return e+t*(Math.random()-.5)};var A=function(e,t,n,r){var i=n-e;var s=r-t;return Math.sqrt(i*i+s*s)};var O=function(e){return Object.prototype.toString.call(e)==="[object Array]"};if(t=="canvas"){a=function(t,n,r,i,s,o){this.moveTo(t,n);this.quadraticCurveTo(r,i,s,o);e.pathPos={x:s,y:o}};u=function(){this.stroke();return this};o=function(){this.beginPath();return this}}else{a=function(t,n,r,i,s,o){t=d(t);n=d(n);r=d(r);i=d(i);s=d(s);o=d(o);if(e.pathPos.x!=t||e.pathPos.y!=n||l.length==0){l=l+["M",t,n,"Q",r,i,s,o].join(" ")}else{l=l+["Q",r,i,s,o].join(" ")}e.pathPos={x:s,y:o};return this};o=function(){l="";e.pathPos={x:0,y:0};return this}}if(t=="raphael"){u=function(){return this.path(l)}}if(t=="d3"){u=function(){return this.append("svg:path").attr("d",l)}}if(t=="svg"){u=function(){return this.path(l)}}};e.init({fsteps:t,msteps:n,ff:r,ffc:i,context:s});if(typeof Raphael!="undefined"){p("raphael",Raphael.fn)}if(typeof SVG!="undefined"){var m={};p("svg",m);SVG.extend(SVG.Set,m);SVG.extend(SVG.Group,m);SVG.extend(SVG.Element,m)}if(typeof d3!="undefined"){p("d3",d3.selection.prototype);p("d3",d3.selection.enter.prototype)}p("self",COMIC)})()
